"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[633],{5893:function(e,r,s){s.r(r),s.d(r,{default:function(){return X}});var n=s(9439),t=s(2791),a=s(3360),o=s(6673),i=s(6508),c=s(1427),d=s(9743),l=s(2677),u=s(9140),h=s(2983),x=s(5560),p=s(1084),m=s(4072),j=s(184);function f(e){var r,s,n=e.type,t=e.count;switch(n){case"users":r={title:"USERS",ismoney:!1,icon:(0,j.jsx)(h.Z,{className:"widget-icon",style:{color:"green",backgroundColor:"rgb(171, 202, 171)"}}),link:"See all users",count:t};break;case"orders":r={title:"ORDERS",ismoney:!1,icon:(0,j.jsx)(x.Z,{className:"widget-icon",style:{backgroundColor:"rgb(236, 235, 231)",color:"goldenrod"}}),link:"See all orders",count:t};break;case"earnings":r={title:"EARNINGS",ismoney:!0,icon:(0,j.jsx)(p.Z,{className:"widget-icon",style:{backgroundColor:"rgb(204, 171, 178)",color:"crimson"}}),link:"View all transaction",count:t.balance};break;case"balance":r={title:"BALANCE",ismoney:!0,icon:(0,j.jsx)(m.Z,{className:"widget-icon",style:{color:"purple",backgroundColor:"rgb(164, 123, 164)"}})}}return(0,j.jsx)(d.Z,{children:(0,j.jsx)(l.Z,{children:(0,j.jsx)(u.Z,{className:"widget-card",children:(0,j.jsxs)(u.Z.Body,{className:"widget-body",children:[(0,j.jsxs)("div",{className:"left-widget",children:[(0,j.jsx)(u.Z.Title,{children:r.title}),(0,j.jsxs)(u.Z.Text,{className:"widget-amount",children:[r.ismoney&&(0,j.jsx)(j.Fragment,{children:"\u20b9"}),(s=r.count,s>=1e7?(s/1e7).toFixed(1)+" Cr":s>=1e5?(s/1e5).toFixed(1)+" Lakh":s>=1e3?(s/1e3).toFixed(1)+" K":s)]}),(0,j.jsx)(u.Z.Link,{className:"widget-list",children:r.link})]}),(0,j.jsx)("div",{className:"right-widget",children:r.icon})]})})})})}var g=s(9391),y=(s(1009),s(5172));function v(e){var r,s=e.type,n=e.item;function t(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e}switch(s){case"user":r={title:"USERS",count:n&&n.userCountToday,desc:"No. of new users",month:n&&n.userCountMonth,prevMonth:n&&n.userCountPrevMonth};break;case"order":r={title:"ORDERS",count:n&&n.orderCountToday,desc:"No. of  orders",month:n&&n.orderCountMonth,prevMonth:n&&n.orderCountPrevMonth};break;case"earning":r={title:"EARNINGS",count:n&&n.balanceToday,desc:"No. of earning amount ",month:n&&n.balanceMonth,prevMonth:n&&n.balancePrevMonth}}var a=0===r.prevMonth&&0!==r.month?100:(r.month-r.prevMonth)/r.prevMonth*100;return(0,j.jsxs)("div",{className:"progress-main",children:[(0,j.jsx)("div",{className:"progress-title",children:(0,j.jsx)("h3",{className:"progress-h3",children:r&&r.title})}),(0,j.jsx)("div",{className:"progress-center",children:(0,j.jsx)("div",{className:"progress-chart",children:(0,j.jsx)(g.Ip,{value:a,text:"".concat(a.toFixed(1),"%")})})}),(0,j.jsx)("div",{className:"progress-bottom",children:(0,j.jsx)("p",{children:r&&r.desc})}),(0,j.jsxs)("div",{className:"progress-footer",children:[(0,j.jsx)("p",{children:"Prev month"}),(0,j.jsx)("p",{children:"This month"}),(0,j.jsx)("p",{children:"Today"})]}),(0,j.jsxs)("div",{className:"progress-footer-icon",children:[(0,j.jsx)("p",{children:(0,j.jsx)(y.Z,{})}),(0,j.jsx)("p",{children:(0,j.jsx)(y.Z,{})}),(0,j.jsx)("p",{children:(0,j.jsx)(y.Z,{})})]}),(0,j.jsxs)("div",{className:"progress-no",children:[(0,j.jsx)("p",{children:t(r.prevMonth)}),(0,j.jsx)("p",{children:t(r.month)}),(0,j.jsx)("p",{children:t(r.count&&r.count)})]})]})}var N=s(601),Z=s(8614),b=s(466),k=s(2891),w=s(2839),C=s(5667),I=s(8602),M=s(4165),A=s(5861),E=s(1243),S=s(3558),T=function(){return function(){var e=(0,A.Z)((0,M.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:S.I4}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,E.Z.get("/api/razorpay/balance",a);case 6:o=e.sent,i=o.data,r({type:S.uL,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:S.ZW,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},L=function(){return function(){var e=(0,A.Z)((0,M.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:S.Lh}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,E.Z.get("/api/razorpay/balancecount",a);case 6:o=e.sent,i=o.data,r({type:S.zn,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:S.XN,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},O=function(){return function(){var e=(0,A.Z)((0,M.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:S.K8}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,E.Z.get("/api/razorpay/monthly/earning",a);case 6:o=e.sent,i=o.data,r({type:S.bX,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:S.bX,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},z=s(9434);function B(){var e=(0,z.I0)(),r=(0,z.v9)((function(e){return e.razorpayMonthlyEarning})).monthlyAmount;return t.useEffect((function(){e(O())}),[e]),(0,j.jsxs)("div",{className:"chart-main",style:{width:"100%",height:"450px"},children:[(0,j.jsx)("div",{className:"chart-title",children:(0,j.jsx)("h2",{children:"Last six(6) month Revenue"})}),(0,j.jsx)(N.h,{children:(0,j.jsxs)(Z.T,{data:r.response,margin:{top:10,right:30,left:0,bottom:0},children:[(0,j.jsxs)("defs",{children:[(0,j.jsxs)("linearGradient",{id:"amt",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,j.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),(0,j.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),(0,j.jsxs)("linearGradient",{id:"amt",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,j.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),(0,j.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),(0,j.jsx)(b.K,{dataKey:"name"}),(0,j.jsx)(k.B,{}),(0,j.jsx)(w.q,{strokeDasharray:"3 3"}),(0,j.jsx)(C.u,{}),(0,j.jsx)(I.u,{type:"monotone",dataKey:"amt",stroke:"#8884d8",fillOpacity:1,fill:"url(#amt)"})]})})]})}s(1564);var P=s(2591),R=s(7689),F=s(2377),D=s(5236),K=s(5534);function G(){var e=(0,z.I0)(),r=(0,R.s0)(),s=(0,z.v9)((function(e){return e.allOrders})),n=s.orders,a=s.error,o=s.loading,i=(0,z.v9)((function(e){return e.userLogin})).userInfo;(0,t.useEffect)((function(){i&&i.isAdmin?e((0,K.$3)()):r("/login")}),[e,r,i]);var c=n&&n.filter((function(e){return e.isPaid}));return(0,j.jsx)(j.Fragment,{children:o?(0,j.jsx)(F.Z,{}):a?(0,j.jsx)(D.Z,{variant:"danger",children:a}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(P.Z,{bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"orderlist-head",children:[(0,j.jsx)("td",{children:"PAYMENT ID"}),(0,j.jsx)("td",{children:"PRODUCT"}),(0,j.jsx)("td",{children:"CLIENT"}),(0,j.jsx)("td",{children:"DATE"}),(0,j.jsx)("td",{children:"AMOUNT"}),(0,j.jsx)("td",{children:"PAID"})]})}),(0,j.jsx)("tbody",{children:c.map((function(e){var r;return(0,j.jsxs)("tr",{className:"orderlist-row",children:[(0,j.jsx)("td",{children:e.paymentId.toString()}),e.orderItem.map((function(e){return(0,j.jsx)("td",{children:e.name},e._id)})),(0,j.jsx)("td",{children:e.user.name?e.user.name.toString():"Unknown"}),(0,j.jsx)("td",{children:null===(r=e.paidAt)||void 0===r?void 0:r.substring(0,10)}),(0,j.jsx)("td",{children:e.totalPrice.toString()}),(0,j.jsx)("td",{children:e.isPaid?(0,j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):(0,j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})})]},e._id)}))})]})})})}var U=s(8211);function X(){var e=(0,t.useState)(!1),r=(0,n.Z)(e,2),s=r[0],u=r[1],h=(0,c.Z)("(max-width:987px)"),x=(0,z.I0)(),p=(0,z.v9)((function(e){return e.userList})).users,m=p&&p.length,g=(0,z.v9)((function(e){return e.allOrders})).orders,y=g&&g.length,N=(0,z.v9)((function(e){return e.razorpayBalance})).balance,Z=(0,z.v9)((function(e){return e.userCount})).user,b=(0,z.v9)((function(e){return e.orderCount})).orderItem,k=(0,z.v9)((function(e){return e.razorpayBalanceCount})).balanceCount;return t.useEffect((function(){x((0,U.ZZ)()),x((0,K.$3)()),x(T()),x((0,U.Gs)()),x((0,K.NK)()),x(L())}),[x]),(0,j.jsxs)(d.Z,{className:"dashboard-screen",children:[h?(0,j.jsxs)("div",{children:[(0,j.jsx)(a.Z,{className:"sidebar-menu",variant:"primary",onClick:function(){return u(!0)},children:"menu"}),(0,j.jsxs)(o.Z,{show:s,onHide:function(){return u(!1)},children:[(0,j.jsx)(o.Z.Header,{closeButton:!0}),(0,j.jsx)(o.Z.Body,{children:(0,j.jsx)(i.Z,{})})]})]}):(0,j.jsx)(l.Z,{md:2,sm:12,xs:12,className:"sidebar-col",children:(0,j.jsx)("div",{className:"sidebar-large",children:(0,j.jsx)(i.Z,{})})}),(0,j.jsxs)(l.Z,{md:10,sm:12,xs:12,className:"dashboard-widget",children:[(0,j.jsx)(f,{type:"users",count:m}),(0,j.jsx)(f,{type:"orders",count:y}),(0,j.jsx)(f,{type:"earnings",count:N}),(0,j.jsx)(f,{type:"balance"}),(0,j.jsx)(v,{type:"user",item:Z}),(0,j.jsx)(v,{type:"order",item:b}),(0,j.jsx)(v,{type:"earning",item:k}),(0,j.jsx)(B,{})]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("h2",{className:"transaction-title",children:"Lastest Transaction "}),(0,j.jsx)(l.Z,{md:12,className:"transaction-main",children:(0,j.jsx)(G,{})})]})]})}}}]);
//# sourceMappingURL=633.921f26a6.chunk.js.map