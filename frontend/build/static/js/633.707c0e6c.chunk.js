"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[633],{5893:function(e,r,s){s.r(r),s.d(r,{default:function(){return G}});var n=s(9439),t=s(2791),a=s(3360),o=s(6673),i=s(8221),c=s(1427),d=s(9743),l=s(2677),u=s(9140),h=s(6856),x=s(828),p=s(9126),m=s(184);function j(e){var r,s,n=e.type,t=e.count;switch(n){case"users":r={title:"USERS",ismoney:!1,icon:(0,m.jsx)(x.Bmn,{className:"widget-icon",style:{color:"green",backgroundColor:"rgb(171, 202, 171)"}}),link:"See all users",count:t};break;case"orders":r={title:"ORDERS",ismoney:!1,icon:(0,m.jsx)(p.bm9,{className:"widget-icon",style:{backgroundColor:"rgb(236, 235, 231)",color:"goldenrod"}}),link:"See all orders",count:t};break;case"earnings":r={title:"EARNINGS",ismoney:!0,icon:(0,m.jsx)(p._4u,{className:"widget-icon",style:{backgroundColor:"rgb(204, 171, 178)",color:"crimson"}}),link:"View all transaction",count:t.balance};break;case"balance":r={title:"BALANCE",ismoney:!0,icon:(0,m.jsx)(h.NsK,{className:"widget-icon",style:{color:"purple",backgroundColor:"rgb(164, 123, 164)"}})}}return(0,m.jsx)(d.Z,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(u.Z,{className:"widget-card",children:(0,m.jsxs)(u.Z.Body,{className:"widget-body",children:[(0,m.jsxs)("div",{className:"left-widget",children:[(0,m.jsx)(u.Z.Title,{children:r.title}),(0,m.jsxs)(u.Z.Text,{className:"widget-amount",children:[r.ismoney&&(0,m.jsx)(m.Fragment,{children:"\u20b9"}),(s=r.count,s>=1e7?(s/1e7).toFixed(1)+" Cr":s>=1e5?(s/1e5).toFixed(1)+" Lakh":s>=1e3?(s/1e3).toFixed(1)+" K":s)]}),(0,m.jsx)(u.Z.Link,{className:"widget-list",children:r.link})]}),(0,m.jsx)("div",{className:"right-widget",children:r.icon})]})})})})}var f=s(9391);s(1009);function g(e){var r,s=e.type,n=e.item;function t(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e}switch(s){case"user":r={title:"USERS",count:n&&n.userCountToday,desc:"No. of new users",month:n&&n.userCountMonth,prevMonth:n&&n.userCountPrevMonth};break;case"order":r={title:"ORDERS",count:n&&n.orderCountToday,desc:"No. of  orders",month:n&&n.orderCountMonth,prevMonth:n&&n.orderCountPrevMonth};break;case"earning":r={title:"EARNINGS",count:n&&n.balanceToday,desc:"No. of earning amount ",month:n&&n.balanceMonth,prevMonth:n&&n.balancePrevMonth}}var a=0===r.prevMonth&&0!==r.month?100:(r.month-r.prevMonth)/r.prevMonth*100;return(0,m.jsxs)("div",{className:"progress-main",children:[(0,m.jsx)("div",{className:"progress-title",children:(0,m.jsx)("h3",{className:"progress-h3",children:r&&r.title})}),(0,m.jsx)("div",{className:"progress-center",children:(0,m.jsx)("div",{className:"progress-chart",children:(0,m.jsx)(f.Ip,{value:a,text:"".concat(a.toFixed(1),"%")})})}),(0,m.jsx)("div",{className:"progress-bottom",children:(0,m.jsx)("p",{children:r&&r.desc})}),(0,m.jsxs)("div",{className:"progress-footer",children:[(0,m.jsx)("p",{children:"Prev month"}),(0,m.jsx)("p",{children:"This month"}),(0,m.jsx)("p",{children:"Today"})]}),(0,m.jsxs)("div",{className:"progress-footer-icon",children:[(0,m.jsx)("p",{children:(0,m.jsx)(h.Ix0,{})}),(0,m.jsx)("p",{children:(0,m.jsx)(h.Ix0,{})}),(0,m.jsx)("p",{children:(0,m.jsx)(h.Ix0,{})})]}),(0,m.jsxs)("div",{className:"progress-no",children:[(0,m.jsx)("p",{children:t(r.prevMonth)}),(0,m.jsx)("p",{children:t(r.month)}),(0,m.jsx)("p",{children:t(r.count&&r.count)})]})]})}var y=s(601),v=s(7906),N=s(466),b=s(2891),Z=s(2839),k=s(5667),w=s(8602),C=s(4165),I=s(5861),M=s(1243),A=s(3558),E=function(){return function(){var e=(0,I.Z)((0,C.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:A.I4}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,M.Z.get("/api/razorpay/balance",a);case 6:o=e.sent,i=o.data,r({type:A.uL,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:A.ZW,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},S=function(){return function(){var e=(0,I.Z)((0,C.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:A.Lh}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,M.Z.get("/api/razorpay/balancecount",a);case 6:o=e.sent,i=o.data,r({type:A.zn,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:A.XN,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},T=function(){return function(){var e=(0,I.Z)((0,C.Z)().mark((function e(r,s){var n,t,a,o,i;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:A.K8}),n=s(),t=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(t.token)}},e.next=6,M.Z.get("/api/razorpay/monthly/earning",a);case 6:o=e.sent,i=o.data,r({type:A.bX,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:A.bX,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,s){return e.apply(this,arguments)}}()},L=s(9434);function B(){var e=(0,L.I0)(),r=(0,L.v9)((function(e){return e.razorpayMonthlyEarning})).monthlyAmount;return t.useEffect((function(){e(T())}),[e]),(0,m.jsxs)("div",{className:"chart-main",style:{width:"100%",height:"450px"},children:[(0,m.jsx)("div",{className:"chart-title",children:(0,m.jsx)("h2",{children:"Last six(6) month Revenue"})}),(0,m.jsx)(y.h,{children:(0,m.jsxs)(v.T,{data:r.response,margin:{top:10,right:30,left:0,bottom:0},children:[(0,m.jsxs)("defs",{children:[(0,m.jsxs)("linearGradient",{id:"amt",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,m.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),(0,m.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),(0,m.jsxs)("linearGradient",{id:"amt",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,m.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),(0,m.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),(0,m.jsx)(N.K,{dataKey:"name"}),(0,m.jsx)(b.B,{}),(0,m.jsx)(Z.q,{strokeDasharray:"3 3"}),(0,m.jsx)(k.u,{}),(0,m.jsx)(w.u,{type:"monotone",dataKey:"amt",stroke:"#8884d8",fillOpacity:1,fill:"url(#amt)"})]})})]})}s(1564);var O=s(2591),z=s(7689),P=s(2377),R=s(5236),F=s(5534);function K(){var e=(0,L.I0)(),r=(0,z.s0)(),s=(0,L.v9)((function(e){return e.allOrders})),n=s.orders,a=s.error,o=s.loading,i=(0,L.v9)((function(e){return e.userLogin})).userInfo;(0,t.useEffect)((function(){i&&i.isAdmin?e((0,F.$3)()):r("/login")}),[e,r,i]);var c=n&&n.filter((function(e){return e.isPaid}));return(0,m.jsx)(m.Fragment,{children:o?(0,m.jsx)(P.Z,{}):a?(0,m.jsx)(R.Z,{variant:"danger",children:a}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(O.Z,{bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"orderlist-head",children:[(0,m.jsx)("td",{children:"PAYMENT ID"}),(0,m.jsx)("td",{children:"PRODUCT"}),(0,m.jsx)("td",{children:"CLIENT"}),(0,m.jsx)("td",{children:"DATE"}),(0,m.jsx)("td",{children:"AMOUNT"}),(0,m.jsx)("td",{children:"PAID"})]})}),(0,m.jsx)("tbody",{children:c.map((function(e){var r;return(0,m.jsxs)("tr",{className:"orderlist-row",children:[(0,m.jsx)("td",{children:e.paymentId.toString()}),e.orderItem.map((function(e){return(0,m.jsx)("td",{children:e.name},e._id)})),(0,m.jsx)("td",{children:e.user.name?e.user.name.toString():"Unknown"}),(0,m.jsx)("td",{children:null===(r=e.paidAt)||void 0===r?void 0:r.substring(0,10)}),(0,m.jsx)("td",{children:e.totalPrice.toString()}),(0,m.jsx)("td",{children:e.isPaid?(0,m.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):(0,m.jsx)("i",{className:"fas fa-times",style:{color:"red"}})})]},e._id)}))})]})})})}var D=s(8211);function G(){var e=(0,t.useState)(!1),r=(0,n.Z)(e,2),s=r[0],u=r[1],h=(0,c.Z)("(max-width:987px)"),x=(0,L.I0)(),p=(0,L.v9)((function(e){return e.userList})).users,f=p&&p.length,y=(0,L.v9)((function(e){return e.allOrders})).orders,v=y&&y.length,N=(0,L.v9)((function(e){return e.razorpayBalance})).balance,b=(0,L.v9)((function(e){return e.userCount})).user,Z=(0,L.v9)((function(e){return e.orderCount})).orderItem,k=(0,L.v9)((function(e){return e.razorpayBalanceCount})).balanceCount;return t.useEffect((function(){x((0,D.ZZ)()),x((0,F.$3)()),x(E()),x((0,D.Gs)()),x((0,F.NK)()),x(S())}),[x]),(0,m.jsxs)(d.Z,{className:"dashboard-screen",children:[h?(0,m.jsxs)("div",{children:[(0,m.jsx)(a.Z,{className:"sidebar-menu",variant:"primary",onClick:function(){return u(!0)},children:"menu"}),(0,m.jsxs)(o.Z,{show:s,onHide:function(){return u(!1)},children:[(0,m.jsx)(o.Z.Header,{closeButton:!0}),(0,m.jsx)(o.Z.Body,{children:(0,m.jsx)(i.Z,{})})]})]}):(0,m.jsx)(l.Z,{md:2,sm:12,xs:12,className:"sidebar-col",children:(0,m.jsx)("div",{className:"sidebar-large",children:(0,m.jsx)(i.Z,{})})}),(0,m.jsxs)(l.Z,{md:10,sm:12,xs:12,className:"dashboard-widget",children:[(0,m.jsx)(j,{type:"users",count:f}),(0,m.jsx)(j,{type:"orders",count:v}),(0,m.jsx)(j,{type:"earnings",count:N}),(0,m.jsx)(j,{type:"balance"}),(0,m.jsx)(g,{type:"user",item:b}),(0,m.jsx)(g,{type:"order",item:Z}),(0,m.jsx)(g,{type:"earning",item:k}),(0,m.jsx)(B,{})]}),(0,m.jsxs)(d.Z,{children:[(0,m.jsx)("h2",{className:"transaction-title",children:"Lastest Transaction "}),(0,m.jsx)(l.Z,{md:12,className:"transaction-main",children:(0,m.jsx)(K,{})})]})]})}}}]);
//# sourceMappingURL=633.707c0e6c.chunk.js.map